# 产品溯源与保修管理系统 - 使用指南

## 如何进入不同角色的页面

### 1. 连接钱包
- 点击右上角的"连接钱包"按钮
- 在 MetaMask 中确认连接
- 连接成功后，导航栏会显示所有功能标签

### 2. 查看角色权限
- 点击导航栏中的"角色管理"标签
- 在"当前账户角色"部分查看您拥有的角色：
  - ✅ 绿色表示您拥有该角色
  - ❌ 灰色表示您没有该角色

### 3. 访问不同功能页面

#### 📦 我的产品（所有用户）
- **访问方式**: 点击导航栏"我的产品"标签
- **权限要求**: 无（所有连接钱包的用户都可以访问）
- **功能**: 查看您拥有的所有产品及其详细信息

#### 🏭 注册产品（制造商）
- **访问方式**: 点击导航栏"注册产品"标签
- **权限要求**: 需要**制造商**角色
- **如何获取角色**:
  1. 如果您是管理员，可以在"角色管理"页面授予自己制造商角色
  2. 如果不是管理员，请联系管理员授予您制造商角色
- **功能**: 注册新产品到区块链

#### 🛡️ 保修申请（所有用户）
- **访问方式**: 点击导航栏"保修申请"标签
- **权限要求**: 无（所有拥有产品的用户都可以提交保修申请）
- **功能**: 为您的产品提交保修申请

#### 🔧 服务中心（服务中心角色）
- **访问方式**: 点击导航栏"服务中心"标签
- **权限要求**: 需要**服务中心**角色
- **如何获取角色**:
  1. 如果您是管理员，可以在"角色管理"页面授予自己服务中心角色
  2. 如果不是管理员，请联系管理员授予您服务中心角色
- **功能**: 处理保修申请、批准/拒绝申请、记录服务信息

#### 👤 角色管理（所有用户）
- **访问方式**: 点击导航栏"角色管理"标签
- **权限要求**: 无（所有用户都可以查看自己的角色）
- **功能**: 
  - 查看当前账户的所有角色
  - **仅管理员**: 可以授予其他账户角色

### 4. 授予角色（仅管理员）

如果您是管理员，可以授予其他账户角色：

1. 进入"角色管理"页面
2. 在"授予角色"部分：
   - 选择要授予的角色类型（制造商/零售商/服务中心）
   - 输入要授予角色的账户地址
   - 点击"授予角色"按钮
   - 在 MetaMask 中确认交易

### 5. 权限不足时的提示

如果您没有相应权限但点击了需要权限的标签：
- 导航栏中会显示 🔒 图标
- 页面会显示"权限不足"提示
- 提示会说明需要什么角色以及如何获取

## 角色说明

| 角色 | 权限 | 主要功能 |
|------|------|----------|
| **管理员** | 最高权限 | 可以授予和撤销所有角色 |
| **制造商** | 产品注册 | 可以注册新产品到区块链 |
| **零售商** | 产品接收 | 可以接收制造商注册的产品，并转移给客户 |
| **服务中心** | 保修处理 | 可以处理保修申请、批准/拒绝、记录服务 |

## 常见问题

### Q: 为什么我看不到"注册产品"或"服务中心"标签？
A: 这些标签对所有用户都可见，但如果您没有相应角色，标签上会显示 🔒 图标。点击后会显示权限不足的提示。

### Q: 如何成为制造商/零售商/服务中心？
A: 需要管理员授予您相应的角色。如果您是合约部署者，您默认拥有管理员角色，可以在"角色管理"页面授予自己或他人角色。

### Q: 如何检查我是否是管理员？
A: 进入"角色管理"页面，查看"当前账户角色"部分。如果"管理员"显示为绿色 ✓，说明您是管理员。

### Q: 零售商角色有什么用？
A: 零售商角色主要用于接收制造商注册的产品。当产品从零售商转移给客户时，会自动激活保修。

## 快速开始

1. **连接钱包** → 使用 MetaMask 连接
2. **查看角色** → 进入"角色管理"查看您的角色
3. **获取权限** → 如果是管理员，可以授予自己需要的角色
4. **开始使用** → 根据您的角色使用相应功能

