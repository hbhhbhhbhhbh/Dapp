# 产品溯源与保修管理系统 - 前端应用

这是一个基于 React 和 Web3 的前端应用，用于与产品溯源和保修管理智能合约交互。

## 功能特性

- 🔐 **钱包连接**: 支持 MetaMask 钱包连接
- 📦 **产品管理**: 查看拥有的产品列表和详情
- 🏭 **产品注册**: 制造商可以注册新产品
- 🔄 **所有权转移**: 支持 NFT 产品转移
- 🛡️ **保修申请**: 客户可以提交保修申请
- 🔧 **服务中心**: 服务中心可以处理和记录服务

## 安装和运行

### 前置要求

- Node.js 16+ 
- npm 或 yarn
- MetaMask 浏览器扩展

### 安装步骤

1. 安装依赖：
```bash
npm install
```

2. 配置合约地址：
   - 打开 `src/config/contractConfig.js`
   - 将 `CONTRACT_ADDRESS` 替换为您部署的合约地址
   - 如果需要，更新 `CONTRACT_ABI`（从合约编译后的 JSON 文件中获取完整 ABI）

3. 启动开发服务器：
```bash
npm run dev
```

4. 在浏览器中打开应用（通常是 http://localhost:3000）

## 使用说明

### 连接钱包

1. 确保已安装 MetaMask 扩展
2. 点击"连接钱包"按钮
3. 在 MetaMask 中确认连接

### 注册产品（制造商）

1. 确保当前账户具有制造商角色
2. 切换到"注册产品"标签
3. 填写产品信息：
   - 初始所有者地址（必须是零售商）
   - 序列号
   - 型号
   - 保修期（天数）
   - 索赔次数上限
4. 点击"注册产品"并确认交易

### 查看产品

1. 切换到"我的产品"标签
2. 查看您拥有的所有产品
3. 每个产品卡片显示：
   - 产品 ID 和序列号
   - 型号和制造商
   - 保修状态和剩余天数
   - 索赔次数

### 提交保修申请（客户）

1. 切换到"保修申请"标签
2. 选择要申请保修的产品
3. 填写问题描述
4. 点击"提交申请"并确认交易

### 处理保修申请（服务中心）

1. 确保当前账户具有服务中心角色
2. 切换到"服务中心"标签
3. 输入保修申请 ID 并查询
4. 查看申请详情
5. 批准或拒绝申请
6. 对于已批准的申请，可以记录服务信息

## 技术栈

- **React 18**: UI 框架
- **Vite**: 构建工具
- **ethers.js**: Web3 交互库
- **CSS3**: 样式（使用渐变和现代设计）

## 注意事项

1. **合约地址**: 部署合约后，务必更新 `contractConfig.js` 中的合约地址
2. **网络**: 确保 MetaMask 连接到正确的网络（测试网或主网）
3. **Gas 费用**: 所有链上操作都需要支付 Gas 费用
4. **角色权限**: 某些功能需要特定的角色权限（制造商、零售商、服务中心）

## 项目结构

```
frontend/
├── src/
│   ├── components/          # React 组件
│   │   ├── WalletConnect.jsx
│   │   ├── ProductList.jsx
│   │   ├── RegisterProduct.jsx
│   │   ├── WarrantyClaim.jsx
│   │   └── ServiceCenter.jsx
│   ├── config/              # 配置文件
│   │   └── contractConfig.js
│   ├── utils/               # 工具函数
│   │   └── web3.js
│   ├── App.jsx              # 主应用组件
│   ├── main.jsx             # 入口文件
│   └── index.css            # 全局样式
├── index.html
├── package.json
└── vite.config.js
```

## 开发

### 构建生产版本

```bash
npm run build
```

### 预览生产构建

```bash
npm run preview
```

## 许可证

MIT

"# Dapp" 
